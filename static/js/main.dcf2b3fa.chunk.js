(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){e.exports=n(201)},117:function(e,t,n){},177:function(e,t,n){},180:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n(13),o=n(14),l=n(16),s=n(15),u=n(17),d=(n(74),n(34)),h=n(95),f=n(28),m=(n(202),n(73)),p=(n(117),m.a.Meta),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.studio,t=e.name,n=e.view,a=e.price,i=n[0];return r.a.createElement(m.a,{className:"Card",cover:r.a.createElement("img",{alt:t,src:i})},r.a.createElement(p,{title:t}),r.a.createElement("div",{className:"PriceTag"},"".concat(a," \u0440.")))}}]),t}(r.a.Component),b=(n(177),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.studios;return r.a.createElement("div",{className:"CardsArea"},e.map(function(e){return r.a.createElement(v,{studio:e,key:e.id})}))}}]),t}(r.a.Component)),g=(n(203),n(105)),j=n(45),O=n(101),E=n.n(O),C=(n(180),function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(f.a)(n));var a=Object(j.a)(n.props.limits,2),r=a[0],i=a[1];if(n.props.initvalue){var o=Object(j.a)(n.props.initvalue,2),u=o[0],d=o[1];void 0!==u&&void 0!==d&&(r=u,i=d)}return n.state={initvalue:[r,i],value:[r,i]},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e}),this.props.onChange(e)}},{key:"render",value:function(){var e=Object(j.a)(this.props.limits,2),t=e[0],n=e[1],a=Object(j.a)(this.state.value,2),i=a[0],c=a[1];return r.a.createElement("div",{className:"FilterSubInput RangeSlider"},r.a.createElement("div",{style:{marginBottom:"24px"}},r.a.createElement("div",{style:{width:"50%",float:"left",fontWeight:"bold"}},this.props.title),r.a.createElement("div",{style:{width:"50%",float:"left",textAlign:"right"}},"".concat(i,"  -  ").concat(c))),r.a.createElement("div",{style:{width:"85%",marginLeft:"auto",marginRight:"auto"}},r.a.createElement(g.a,{range:!0,inclusive:!0,min:t,max:n,tipFormatter:null,defaultValue:this.state.initvalue,onChange:E()(this.handleChange,350)})))}}]),t}(r.a.Component)),y=n(51);var k=function(e,t,n,a,i){var d,h=function(d){function h(e){var t;return Object(c.a)(this,h),(t=Object(l.a)(this,Object(s.a)(h).call(this,e))).handleChange=t.handleChange.bind(Object(f.a)(t)),t}return Object(u.a)(h,d),Object(o.a)(h,[{key:"handleChange",value:function(e){a(Object(y.a)({},t,e))}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({limits:n[t],onChange:this.handleChange,initvalue:i[t]},this.props))}}]),h}(r.a.Component);return h.displayName="FilterSubInput(".concat((d=e).displayName||d.name||"Component",")"),h},w=(n(198),function(e){function t(e){var n;Object(c.a)(this,t);return(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).ConPriceRangeSlider=k(C,"pricerange",n.props.limits,n.props.onFilterChange,n.props.initfilter||{}),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.limits!==e.limits}},{key:"render",value:function(){var e=this.ConPriceRangeSlider;return r.a.createElement("div",{className:"Filter"},r.a.createElement(e,{title:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",className:"FilterSubInput"}))}}]),t}(r.a.Component)),F=n(44);var S=Object(F.a)(function(e){return e.studios},function(e){return e.sort(function(e,t){return e.price-t.price})}),N=Object(F.a)(S,function(e){return e.filter.tags},function(e,t){return t?e.filter(function(e){return function(e,t){for(var n=0;n<t.length;n++)if(!e.includes(t[n]))return!1;return!0}(e.params,t)}):e}),I=Object(F.a)(N,function(e){return e.filter&&e.filter.pricerange&&void 0!==e.filter.pricerange[0]?e.filter.pricerange[0]:void 0},function(e){return e.filter&&e.filter.pricerange&&void 0!==e.filter.pricerange[1]?e.filter.pricerange[1]:void 0},function(e,t,n){return void 0===t||void 0===n?e:e.filter(function(e){return t<=e.price&&e.price<=n})}),M=Object(F.a)(S,function(e){var t=0,n=0;0<e.length&&(t=e[0].price,n=e[e.length-1].price);var a={};return e.forEach(function(e){e.params.forEach(function(e){a[e]=!0})}),{pricerange:[t,n],tags:Object.keys(a).sort()}}),x=(n(199),d.a.Sider),P=d.a.Content,L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleFilterChange=n.handleFilterChange.bind(Object(f.a)(n)),n.state={loadstart:!1,loadend:!1,loadsuccess:!1,studios:[],filter:{}},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="",n=window.location.href,a=n.lastIndexOf("/");0<=a&&(t=n.slice(0,a+1)+"studios.json");this.setState(function(e){return{loadstart:!0}});var r=fetch(t),i=new Promise(function(e,t){setTimeout(t,1e3,"Timeout error")});Promise.race([r,i]).then(function(e){return e.json()}).then(function(t){e.setState(function(e){return{loadend:!0,loadsuccess:!0,studios:t.studios}})}).catch(function(t){console.error(t),e.setState(function(e){return{loadend:!0,loadsuccess:!1}})})}},{key:"handleFilterChange",value:function(e){this.setState(function(t,n){return{filter:Object(h.a)({},t.filter,e)}})}},{key:"render",value:function(){var e=this.state.loadstart,t=this.state.loadend,n=this.state.loadsuccess,a=M(this.state),i=I(this.state);return r.a.createElement(d.a,null,e&&!t&&r.a.createElement("div",{className:"Message MessageInfo"},"Loading ..."),t&&!n&&r.a.createElement("div",{className:"Message MessageError"},"Error on loading."),t&&n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null,r.a.createElement(b,{studios:i})),r.a.createElement(x,null,r.a.createElement(w,{limits:a,onFilterChange:this.handleFilterChange}))))}}]),t}(r.a.Component),R=(n(200),d.a.Header),T=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(R,null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"https://128121.selcdn.ru/react/logo.png",alt:"Logo TakeLook"}))),r.a.createElement(L,null))}}]),t}(r.a.Component);Object(i.render)(r.a.createElement(T,null),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.dcf2b3fa.chunk.js.map