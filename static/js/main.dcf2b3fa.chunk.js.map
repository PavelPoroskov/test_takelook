{"version":3,"sources":["components/Card/index.js","components/CardsArea/index.js","components/RangeSlider/index.js","components/Filter/FilterSubInput.js","components/Filter/index.js","components/AppInteractive/selectors.js","components/AppInteractive/index.js","components/App/index.js","index.js"],"names":["Meta","Card","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this$props$studio","props","studio","name","view","price","url","react_default","a","createElement","card","className","cover","alt","src","title","concat","React","Component","CardsArea","studios","map","src_components_Card","id","RangeSlider","_this","call","handleChange","bind","assertThisInitialized","_this$props$limits","slicedToArray","limits","imin","imax","initvalue","_this$props$initvalue","tmin","tmax","undefined","state","setState","onChange","_this$props$limits2","lmin","lmax","_this$state$value","vmin","vmax","style","marginBottom","width","float","fontWeight","textAlign","marginLeft","marginRight","slider","range","inclusive","min","max","tipFormatter","defaultValue","debounce","FilterSubInput","WrappedComponent","strFilterField","changeFilter","FilterSubInput_","defineProperty","assign","displayName","Filter","ConPriceRangeSlider","onFilterChange","initfilter","nextProps","nextState","selSortedStudios","createSelector","sort","b","selFilteredByTagsStep","filter","tags","arr","subArr","j","length","includes","includesSubArr","params","selFilteredStudios","pricerange","minprice","maxprice","selLimits","obj","forEach","o_studio","str_param","keys","Sider","Content","AppInteractive","handleFilterChange","loadstart","loadend","loadsuccess","_this2","sHref","window","location","href","pos","lastIndexOf","slice","prevState","promiseFetch","fetch","timeoutErr","Promise","resolve","reject","setTimeout","race","then","response","json","responseJSON","catch","error","console","addFilter","objectSpread","filtered_studios","layout","Fragment","src_components_CardsArea","src_components_Filter","Header","App","src_components_AppInteractive","render","src_components_App","document","getElementById"],"mappings":"+XASQA,oBA8BOC,EA1BL,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAW,IAAA,SAAAC,MAAA,WAEC,IAAAC,EAGuBT,KAAKU,MAAMC,OAAjCC,EAHDH,EAGCG,KAAMC,EAHPJ,EAGOI,KAAMC,EAHbL,EAGaK,MACdC,EAAMF,EAAK,GAEjB,OACEG,EAAAC,EAAAC,cAAAC,EAAA,GAAUC,UAAU,OAClBC,MAAOL,EAAAC,EAAAC,cAAA,OAAKI,IAAKV,EAAMW,IAAKR,KAE5BC,EAAAC,EAAAC,cAACvB,EAAD,CAAM6B,MAAOZ,IAEdI,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YAAf,GAAAK,OAA8BX,EAA9B,kBAdGlB,EAAA,CAAiB8B,IAAMC,WCiBlBC,UArBA,SAAA/B,GAAA,SAAA+B,IAAA,OAAA9B,OAAAC,EAAA,EAAAD,CAAAE,KAAA4B,GAAA9B,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8B,GAAAzB,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAA8B,EAAA/B,GAAAC,OAAAQ,EAAA,EAAAR,CAAA8B,EAAA,EAAArB,IAAA,SAAAC,MAAA,WAEJ,IAEAqB,EAAW7B,KAAKU,MAAhBmB,QAEP,OAEEb,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACZS,EAAQC,IAAK,SAAAnB,GAAM,OAClBK,EAAAC,EAAAC,cAACa,EAAD,CAAMpB,OAAQA,EAAQJ,IAAKI,EAAOqB,YAV7BJ,EAAA,CAAiBF,IAAMC,wDC0GvBM,sBAzGb,SAAAA,EAAYvB,GAAO,IAAAwB,EAAApC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiC,IACjBC,EAAApC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmC,GAAAE,KAAAnC,KAAMU,KAED0B,aAAeF,EAAKE,aAAaC,KAAlBvC,OAAAwC,EAAA,EAAAxC,CAAAoC,IAHH,IAAAK,EAAAzC,OAAA0C,EAAA,EAAA1C,CAKMoC,EAAKxB,MAAM+B,OALjB,GAOXC,EAPWH,EAAA,GAOLI,EAPKJ,EAAA,GASjB,GAAIL,EAAKxB,MAAMkC,UAAW,KAAAC,EAAA/C,OAAA0C,EAAA,EAAA1C,CACHoC,EAAKxB,MAAMkC,UADR,GAClBE,EADkBD,EAAA,GACZE,EADYF,EAAA,QAERG,IAATF,QAA+BE,IAATD,IACzBL,EAAiBI,EAAXH,EAAiBI,GAZZ,OAiBjBb,EAAKe,MAAQ,CACXL,UAAW,CAAEF,EAAMC,GACnBnC,MAAO,CAAEkC,EAAMC,IAnBAT,4EAuBN1B,GAEXR,KAAKkD,SAAU,CAAE1C,MAAOA,IAExBR,KAAKU,MAAMyC,SAAS3C,oCAUb,IAAA4C,EAAAtD,OAAA0C,EAAA,EAAA1C,CAIgBE,KAAKU,MAAM+B,OAJ3B,GAICY,EAJDD,EAAA,GAIOE,EAJPF,EAAA,GAAAG,EAAAzD,OAAA0C,EAAA,EAAA1C,CAQgBE,KAAKiD,MAAMzC,MAR3B,GAQCgD,EARDD,EAAA,GAQOE,EARPF,EAAA,GA8BP,OACEvC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,8BACbJ,EAAAC,EAAAC,cAAA,OAAKwC,MArBM,CACbC,aAAgB,SAqBZ3C,EAAAC,EAAAC,cAAA,OAAKwC,MAnBK,CACdE,MAAO,MACPC,MAAO,OACPC,WAAc,SAiBP9D,KAAKU,MAAMc,OAEdR,EAAAC,EAAAC,cAAA,OAAKwC,MAjBK,CACdE,MAAO,MACPC,MAAO,OACPE,UAAa,UAcT,GAAAtC,OACO+B,EADP,SAAA/B,OACmBgC,KAGnBzC,EAAAC,EAAAC,cAAA,OAAKwC,MAhBI,CACbE,MAAO,MACPI,WAAY,OACZC,YAAa,SAcPjD,EAAAC,EAAAC,cAAAgD,EAAA,GAAQC,OAAK,EAACC,WAAS,EACrBC,IAAKhB,EACLiB,IAAKhB,EACLiB,aAAc,KACdC,aAAcxE,KAAKiD,MAAML,UACzBO,SAAUsB,IAASzE,KAAKoC,aAAa,gBApFzBV,IAAMC,oBCoCjB+C,MA1Cf,SAAyBC,EAAkBC,EACzCnC,EAAQoC,EAAcjC,GAEtB,IA8BwBjB,EA9BlBmD,EAAe,SAAAjF,GACnB,SAAAiF,EAAYpE,GAAO,IAAAwB,EAAA,OAAApC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8E,IACjB5C,EAAApC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgF,GAAA3C,KAAAnC,KAAMU,KAED0B,aAAeF,EAAKE,aAAaC,KAAlBvC,OAAAwC,EAAA,EAAAxC,CAAAoC,IAHHA,EADA,OAAApC,OAAAO,EAAA,EAAAP,CAAAgF,EAAAjF,GAAAC,OAAAQ,EAAA,EAAAR,CAAAgF,EAAA,EAAAvE,IAAA,eAAAC,MAAA,SAONA,GAEXqE,EAAa/E,OAAAiF,EAAA,EAAAjF,CAAA,GACV8E,EAAiBpE,MAVH,CAAAD,IAAA,SAAAC,MAAA,WAkBjB,OACEQ,EAAAC,EAAAC,cAACyD,EAAD7E,OAAAkF,OAAA,CACEvC,OAAQA,EAAOmC,GACfzB,SAAUnD,KAAKoC,aACfQ,UAAWA,EAAUgC,IACjB5E,KAAKU,YAvBIoE,EAAA,CAAiBpD,IAAMC,WAoC5C,OAFAmD,EAAgBG,YAAhB,kBAAAxD,QAJwBE,EAIuCgD,GAH5CM,aAAetD,EAAUf,MAAQ,YAGpD,KAEOkE,GCkBMI,sBAxCb,SAAAA,EAAYxE,GAAO,IAAAwB,EAAApC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkF,GAAA,OACjBhD,EAAApC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoF,GAAA/C,KAAAnC,KAAMU,KAcDyE,oBARIT,EAQqCzC,EAAa,aAPjDC,EAAKxB,MAAM+B,OACXP,EAAKxB,MAAM0E,eACXlD,EAAKxB,MAAM2E,YAAc,IAVlBnD,qFAkBGoD,EAAWC,GAC/B,OAAIvF,KAAKU,MAAM+B,SAAW6C,EAAU7C,wCASpC,IAAM0C,EAAsBnF,KAAKmF,oBAEjC,OACEnE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UAEbJ,EAAAC,EAAAC,cAACiE,EAAD,CAAqB3D,MAAM,yDAAYJ,UAAU,2BAxCpCM,IAAMC,oBCa3B,IAkBM6D,EAAmBC,YAlBN,SAAAxC,GAAK,OAAIA,EAAMpB,SAoBhC,SAAAA,GAAO,OAAIA,EAAQ6D,KAAM,SAACzE,EAAE0E,GAAH,OAAS1E,EAAEH,MAAQ6E,EAAE7E,UAE1C8E,EAAwBH,YAC5BD,EANc,SAAAvC,GAAK,OAAIA,EAAM4C,OAAOC,MAQpC,SAACjE,EAASiE,GACR,OAAKA,EAIEjE,EAAQgE,OAAQ,SAAAlF,GAAM,OApDjC,SAAyBoF,EAAKC,GAE5B,IAAK,IAAIC,EAAE,EAAGA,EAAID,EAAOE,OAAQD,IAC/B,IAAMF,EAAII,SAASH,EAAOC,IACxB,OAAO,EAIX,OAAO,EA4C4BG,CAAgBzF,EAAO0F,OAAQP,KAHvDjE,IAmBPyE,EAbyBb,YAC7BG,EAjCkB,SAAA3C,GAClB,OAAIA,EAAM4C,QAAU5C,EAAM4C,OAAOU,iBACGvD,IAA/BC,EAAM4C,OAAOU,WAAW,GACpBtD,EAAM4C,OAAOU,WAAW,QAE/B,GAGgB,SAAAtD,GAClB,OAAIA,EAAM4C,QAAU5C,EAAM4C,OAAOU,iBACGvD,IAA/BC,EAAM4C,OAAOU,WAAW,GACpBtD,EAAM4C,OAAOU,WAAW,QAE/B,GAuBF,SAAC1E,EAAS2E,EAAUC,GAClB,YAAiBzD,IAAbwD,QAAuCxD,IAAbyD,EACrB5E,EAGFA,EAAQgE,OAAQ,SAAAlF,GAAM,OAC3B6F,GAAY7F,EAAOG,OAASH,EAAOG,OAAS2F,MAK5CC,EAAYjB,YAChBD,EACA,SAAA3D,GASE,IAAI2E,EAAW,EACXC,EAAW,EACV,EAAI5E,EAAQqE,SACfM,EAAW3E,EAAQ,GAAGf,MACtB2F,EAAW5E,EAAQA,EAAQqE,OAAO,GAAGpF,OAGvC,IAAI6F,EAAM,GAQV,OAPA9E,EAAQ+E,QAAS,SAAAC,GACfA,EAASR,OAAOO,QAAS,SAAAE,GACvBH,EAAIG,IAAa,MAKd,CACLP,WAAW,CAACC,EAASC,GACrBX,KAJWhG,OAAOiH,KAAKJ,GAAKjB,UCvFzBsB,qBAAOC,cAyHDC,cAtHb,SAAAA,EAAYxG,GAAO,IAAAwB,EAAA,OAAApC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkH,IACjBhF,EAAApC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoH,GAAA/E,KAAAnC,KAAMU,KAEDyG,mBAAqBjF,EAAKiF,mBAAmB9E,KAAxBvC,OAAAwC,EAAA,EAAAxC,CAAAoC,IAE1BA,EAAKe,MAAQ,CACXmE,WAAW,EACXC,SAAS,EACTC,aAAa,EAEbzF,QAAQ,GAERgE,OAAQ,IAZO3D,mFAiBC,IAAAqF,EAAAvH,KAGde,EAAM,GAENyG,EAAQC,OAAOC,SAASC,KACxBC,EAAMJ,EAAMK,YAAY,KACvB,GAAKD,IACR7G,EAAMyG,EAAMM,MAAM,EAAEF,EAAI,GAAK,gBAM/B5H,KAAKkD,SAAU,SAAA6E,GAAS,MAAK,CACzBX,WAAW,KAKf,IAAIY,EAAeC,MAAMlH,GAErBmH,EAAa,IAAIC,QAAS,SAACC,EAASC,GACtCC,WAAYD,EAZI,IAYe,mBAGjCF,QAAQI,KAAK,CAACP,EAAcE,IAC3BM,KAAM,SAAAC,GAAQ,OAAIA,EAASC,SAC3BF,KAAM,SAAAG,GAELpB,EAAKrE,SAAU,SAAA6E,GAAS,MAAK,CACzBV,SAAS,EACTC,aAAa,EACbzF,QAAS8G,EAAa9G,aAK3B+G,MAAO,SAAAC,GAENC,QAAQD,MAAMA,GAEdtB,EAAKrE,SAAU,SAAA6E,GAAS,MAAK,CACzBV,SAAS,EACTC,aAAa,kDAQFyB,GACjB/I,KAAKkD,SAAU,SAAC6E,EAAWrH,GAAZ,MAAuB,CAClCmF,OAAO/F,OAAAkJ,EAAA,EAAAlJ,CAAA,GACFiI,EAAUlC,OACVkD,uCAQT,IAAM3B,EAAYpH,KAAKiD,MAAMmE,UACvBC,EAAUrH,KAAKiD,MAAMoE,QACrBC,EAActH,KAAKiD,MAAMqE,YAEzB7E,EAASiE,EAAU1G,KAAKiD,OAExBgG,EAAmB3C,EAAmBtG,KAAKiD,OAEjD,OAEEjC,EAAAC,EAAAC,cAAAgI,EAAA,OACK9B,IAAcC,GACjBrG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBAAf,eAGGiG,IAAYC,GACftG,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wBAAf,qBAGGiG,GAAWC,GACZtG,EAAAC,EAAAC,cAACF,EAAAC,EAAMkI,SAAP,KACEnI,EAAAC,EAAAC,cAAC+F,EAAD,KACEjG,EAAAC,EAAAC,cAACkI,EAAD,CAAWvH,QAASoH,KAEtBjI,EAAAC,EAAAC,cAAC8F,EAAD,KACEhG,EAAAC,EAAAC,cAACmI,EAAD,CACE5G,OAAQA,EACR2C,eAAgBpF,KAAKmH,+BA7GRzF,IAAMC,WCL1B2H,sBAmBMC,mLAdX,OAEEvI,EAAAC,EAAAC,cAAAgI,EAAA,OACElI,EAAAC,EAAAC,cAACoI,EAAD,KACEtI,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAA,OAAKK,IAAI,0CAA0CD,IAAI,oBAG3DN,EAAAC,EAAAC,cAACsI,EAAD,cAXU9H,IAAMC,WCJxB8H,iBACEzI,EAAAC,EAAAC,cAACwI,EAAD,MACEC,SAASC,eAAe","file":"static/js/main.dcf2b3fa.chunk.js","sourcesContent":["import React from 'react';\n//import ComponentWithClassName from '../ComponentWithClassName'\nimport PropTypes from 'prop-types';\n\n//import { Card as AntdCard, Tag } from 'antd';\nimport { Card as AntdCard } from 'antd';\n\nimport './index.css'\n\nconst { Meta } = AntdCard;\n\n\n\nconst Card = class extends React.Component {\n\n  render() {\n\n    //const { name, view } = this.props.studio;\n    const { name, view, price } = this.props.studio;\n    const url = view[0];\n\n    return (\n      <AntdCard className=\"Card\"\n        cover={<img alt={name} src={url} />}\n      >\n        <Meta title={name} />\n{/*       <Tag className=\"Price\">{`${price} р.`}</Tag> */}\n       <div className=\"PriceTag\">{`${price} р.`}</div>\n      </AntdCard>\n    )\n  }\n}\n\n// loading\n\nCard.propTypes = {\n  studio: PropTypes.object.isRequired\n};\n\nexport default Card;","import React from 'react'\n//import ComponentWithClassName from '../ComponentWithClassName'\nimport PropTypes from 'prop-types'\n\nimport Card from '../Card'\n\nimport './index.css'\n\n\nconst CardsArea = class extends React.Component {\n\n  render() {\n\n    const {studios} = this.props;\n\n    return (\n\n      <div className=\"CardsArea\">\n        {studios.map( studio => \n          <Card studio={studio} key={studio.id}/>\n        )}\n      </div>\n    )\n  }\n};\n\nCardsArea.propTypes = {\n  studios: PropTypes.array.isRequired\n};\n\nexport default CardsArea;","import React from 'react'\n//import ComponentWithClassName from '../ComponentWithClassName'\nimport PropTypes from 'prop-types'\n\nimport { Slider } from 'antd';\nimport debounce from 'lodash.debounce'\n\nimport './index.css'\n\nclass RangeSlider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n\n    const [ lmin, lmax ] = this.props.limits;\n\n    let [ imin, imax ] = [ lmin, lmax ];\n\n    if (this.props.initvalue) {\n      let [ tmin, tmax ] = this.props.initvalue;\n      if ( !(tmin === undefined || tmax === undefined) ) {\n        [ imin, imax ] = [ tmin, tmax ];\n      }\n    }\n\n    //value = [100,1100];\n    this.state = { \n      initvalue: [ imin, imax ],\n      value: [ imin, imax ]\n    }; \n  }\n\n  handleChange(value) {\n//    console.log(\"RangeSlider.handleChange()\");\n    this.setState( { value: value } );\n\n    this.props.onChange(value);\n  }\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   if (this.props.limits !== nextProps.limits) {\n  //     return true;\n  //   }\n  //   return false;\n  // }\n\n  render() {\n\n//    console.log(\"RangeSlider::render()\");\n\n    const [ lmin, lmax ] = this.props.limits;\n\n//    const [ vmin, vmax ] = this.props.value;\n//          value={[vmin, vmax]} \n    const [ vmin, vmax ] = this.state.value;\n\n//    const [ vmin, vmax ] = this.props.value;\n    const stDiv1 = { \n      'marginBottom': '24px'\n    };\n    const stDiv11 = { \n      width: '50%',\n      float: 'left',\n      'fontWeight': 'bold'\n    };\n    const stDiv12 = { \n      width: '50%', \n      float: 'left',\n      'textAlign': 'right'\n    };\n    const stDiv2 = { \n      width: '85%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    };\n\n    return (\n      <div className=\"FilterSubInput RangeSlider\">\n        <div style={stDiv1}>\n          <div style={stDiv11}>\n            {this.props.title}\n          </div>\n          <div style={stDiv12}>\n            { `${vmin}  -  ${vmax}` }\n          </div>\n        </div>\n          <div style={stDiv2}>\n            <Slider range inclusive \n              min={lmin}\n              max={lmax}\n              tipFormatter={null}\n              defaultValue={this.state.initvalue} \n              onChange={debounce(this.handleChange,350)}\n            />\n          </div>\n      </div>\n    );\n  }\n};\n\n//onAfterChange={debounce(this.handleChange,500)}\n\n// RangeSlider.handleChange()\n// RangeSlider::render()\n// Filter::render()\n// RangeSlider::render()\n\nRangeSlider.propTypes = {\n  title: PropTypes.string.isRequired,\n  limits: PropTypes.array.isRequired,\n  initvalue: PropTypes.array,\n  onChange: PropTypes.func.isRequired\n};\n\nexport default RangeSlider;\n","import React from 'react'\n//import ComponentWithClassName from '../ComponentWithClassName'\n\nfunction FilterSubInput (WrappedComponent, strFilterField,\n  limits, changeFilter, initvalue ) {\n\n  const FilterSubInput_ = class extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(value) {\n\n      changeFilter({\n        [strFilterField]: value\n      })\n    }\n\n    render() {\n//      const { extraProp, ...passThroughProps } = this.props;\n      // ... and renders the wrapped component with the fresh data!\n      // Notice that we pass through any additional props\n      return (\n        <WrappedComponent \n          limits={limits[strFilterField]}\n          onChange={this.handleChange}\n          initvalue={initvalue[strFilterField]} \n          {...this.props} />\n      );\n    }\n\n  };\n\n\n  function getDisplayName(Component) {\n    return Component.displayName || Component.name || 'Component';\n  }\n  \n  FilterSubInput_.displayName = `FilterSubInput(${getDisplayName(WrappedComponent)})`;\n\n  return FilterSubInput_;\n}\n\nexport default FilterSubInput;","import React from 'react'\n//import ComponentWithClassName from '../ComponentWithClassName'\nimport PropTypes from 'prop-types'\n\n//import { Row } from 'antd';\n\n//import TagSearch from '../TagSearch'\nimport RangeSlider from '../RangeSlider'\n\nimport FilterSubInput from './FilterSubInput'\n\nimport './index.css'\n\nclass Filter extends React.Component {\n  propTypes : {\n    onFilterChange: PropTypes.func.isRequired,\n    limits: PropTypes.object.isRequired,\n    initfilter: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n\n// //    this.handleRangeChange = this.handleRangeChange.bind(this);\n//     this.handleParamsChange = this.handleParamsChange.bind(this);\n\n    const fnConnectSubInput = (Comp, strField) => {\n      return FilterSubInput( Comp, strField, \n              this.props.limits,\n              this.props.onFilterChange,\n              this.props.initfilter || {}\n            )\n    }\n\n//    this.ConTagSearch = fnConnectSubInput( TagSearch, \"tags\" );\n    this.ConPriceRangeSlider = fnConnectSubInput( RangeSlider, \"pricerange\" );\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.limits !== nextProps.limits) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n\n//    const ConTagSearch = this.ConTagSearch;\n    const ConPriceRangeSlider = this.ConPriceRangeSlider;\n\n    return (\n      <div className=\"Filter\">\n      {/*  <ConTagSearch /> */}\n        <ConPriceRangeSlider title=\"Стоимость\" className=\"FilterSubInput\"/>\n      </div>\n    );\n  }\n};\n\n\nexport default Filter;","\nimport { createSelector } from 'reselect'\n\n\nfunction includesSubArr( arr, subArr ) {\n\n  for (let j=0; j < subArr.length; j++) {\n    if (! arr.includes(subArr[j]) ){\n      return false;\n    }\n  }\n\n  return true;\n}\n\n// function intersectsSubArr( arr, subArr ) {\n\n//   for (let j=0; j < subArr.length; j++) {\n//     if (arr.includes(subArr[j]) ){\n//       return true;\n//     }\n//   }\n\n//   return false;\n// }\n\nconst selStudios = state => state.studios;\nconst selMinPrice = state => {\n  if (state.filter && state.filter.pricerange \n    && state.filter.pricerange[0] !== undefined ) {\n    return state.filter.pricerange[0];\n  }else{\n    return undefined;\n  }  \n};\nconst selMaxPrice = state => {\n  if (state.filter && state.filter.pricerange \n    && state.filter.pricerange[1] !== undefined ) {\n    return state.filter.pricerange[1];\n  }else{\n    return undefined;\n  }  \n};\nconst selTags = state => state.filter.tags;\nconst selSortedStudios = createSelector(\n  selStudios,\n  studios => studios.sort( (a,b) => a.price - b.price )\n);\nconst selFilteredByTagsStep = createSelector(\n  selSortedStudios,\n  selTags,\n  (studios, tags) => {\n    if (!tags) {\n      return studios;\n    }\n\n    return studios.filter( studio => includesSubArr( studio.params, tags ) );\n  }\n);\nconst selFilteredByPriceStep = createSelector(\n  selFilteredByTagsStep,\n  selMinPrice,\n  selMaxPrice,\n  (studios, minprice, maxprice) => {\n    if (minprice === undefined || maxprice === undefined) {\n      return studios;\n    }\n\n    return studios.filter( studio => \n      minprice <= studio.price && studio.price <= maxprice )\n  }\n);\nconst selFilteredStudios = selFilteredByPriceStep; \n\nconst selLimits = createSelector(\n  selSortedStudios,\n  studios => {\n\n    // let minprice = Math.min( ...studios.map( studio => studio.price ) );\n    // let maxprice = Math.max( ...studios.map( studio => studio.price ) );\n    // if (!maxprice) {\n    //   minprice = 0;\n    //   maxprice = 0;\n    // }\n\n    let minprice = 0;\n    let maxprice = 0;\n    if ( 0 < studios.length ) {\n      minprice = studios[0].price;\n      maxprice = studios[studios.length-1].price;\n    }\n\n    let obj = {};\n    studios.forEach( o_studio => {\n      o_studio.params.forEach( str_param => { \n        obj[str_param] = true \n      }) \n    });\n    let params = Object.keys(obj).sort();\n\n    return {\n      pricerange:[minprice,maxprice],\n      tags:params\n    };\n  }\n);\n\nexport { selFilteredStudios, selLimits };\n","\nimport React from 'react'\n//import ComponentWithClassName from '../ComponentWithClassName'\n\nimport CardsArea from '../CardsArea'\nimport Filter from '../Filter'\n\nimport { selFilteredStudios, selLimits } from './selectors'\nimport './index.css'\n\nimport { Layout } from 'antd'\nconst {  Sider, Content } = Layout;\n\nclass AppInteractive extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n\n    this.state = { \n      loadstart: false,\n      loadend: false,\n      loadsuccess: false,\n\n      studios:[],\n\n      filter: {}\n    };\n  }\n\n\n  componentDidMount() {\n\n//    let url = 'http://localhost:8080/studios.json';\n    let url = '';\n\n    let sHref = window.location.href;\n    let pos = sHref.lastIndexOf(\"/\");\n    if ( 0 <= pos ) {\n      url = sHref.slice(0,pos+1) + 'studios.json';\n    }\n\n    const msTimeout = 1000;\n\n\n    this.setState( prevState => ({\n        loadstart: true\n      })\n    );\n\n\n    var promiseFetch = fetch(url);\n\n    var timeoutErr = new Promise( (resolve, reject) => {\n      setTimeout( reject, msTimeout, \"Timeout error\" );\n    });\n\n    Promise.race([promiseFetch, timeoutErr])\n    .then( response => response.json() )\n    .then( responseJSON => {\n\n      this.setState( prevState => ({\n          loadend: true,\n          loadsuccess: true,\n          studios: responseJSON.studios\n        })\n      );\n\n    })\n    .catch( error => {\n\n      console.error(error);\n\n      this.setState( prevState => ({\n          loadend: true,\n          loadsuccess: false\n        })\n      );\n\n    });\n\n  }\n\n  handleFilterChange(addFilter) {\n    this.setState( (prevState, props) => ({\n        filter: {\n          ...prevState.filter,\n          ...addFilter\n        }\n      })\n    );    \n  }\n\n  render() {\n\n    const loadstart = this.state.loadstart;\n    const loadend = this.state.loadend;\n    const loadsuccess = this.state.loadsuccess;\n\n    const limits = selLimits(this.state);\n    //const filter = this.state.filter;\n    const filtered_studios = selFilteredStudios(this.state);\n\n    return (\n  \n      <Layout>\n        { (loadstart && !loadend) &&\n        <div className=\"Message MessageInfo\">Loading ...</div>\n        }\n\n        { (loadend && !loadsuccess) &&\n        <div className=\"Message MessageError\">Error on loading.</div>\n        }\n\n        { (loadend && loadsuccess) &&\n          <React.Fragment>\n            <Content>\n              <CardsArea studios={filtered_studios} />\n            </Content>\n            <Sider>\n              <Filter \n                limits={limits} \n                onFilterChange={this.handleFilterChange} \n              />\n            </Sider>\n          </React.Fragment>\n        }\n      </Layout>\n    );\n  }\n}\n\nexport default AppInteractive;","import React from 'react'\n//import ComponentWithClassName from '../ComponentWithClassName'\n\nimport AppInteracive from '../AppInteractive'\n\nimport './index.css'\n\nimport { Layout } from 'antd'\nconst {  Header } = Layout;\n\nclass App extends React.Component {\n\n  render() {\n    return (\n\n      <Layout>\n        <Header>\n          <div className=\"logo\">\n            <img src=\"https://128121.selcdn.ru/react/logo.png\" alt=\"Logo TakeLook\"/>\n          </div>\n        </Header>\n        <AppInteracive />\n      </Layout>\n    );\n  }\n}\n\nexport default App;","\nimport React from 'react'\nimport { render } from 'react-dom'\n\nimport App from './components/App'\n\nrender(\n  <App />\n  , document.getElementById('root')\n)"],"sourceRoot":""}